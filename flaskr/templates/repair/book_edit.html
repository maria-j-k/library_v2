{% extends 'base.html' %}
{% block autocomplete %}
	<link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/start/jquery-ui.min.css" rel="stylesheet">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
{% endblock %}

    {% block scripts %}
	<style>
		#autocomplete.ui-autocomplete-loading {
			background-image: url(loading.gif);
			background-position: right center;
			background-repeat: no-repeat;
        }
	</style>
        {{ super() }}
<link href="//code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" rel="Stylesheet"></link>
<script src="//code.jquery.com/jquery-2.2.0.min.js"></script>
<script src="//code.jquery.com/ui/1.10.2/jquery-ui.js" ></script>
     <script type="text/javascript" src="{{ url_for('static', filename='repair_detail.js') }}"></script>
 {% endblock %}
{% block content %}
    {{ super() }} 
    <form action="" method="post" accept-charset="utf-8">
        {{ form.hidden_tag() }}        
    <table class="table">
        <tr>
            <th>Title</th>
            <td>{{ form.title(class_="form-control") }}</td>
            <td></td>
        </tr>
        <tr>
            <th>ISBN</th>
            <td>{{ form.isbn(class_="form-control") }}</td>
            <td></td>
        </tr>
        <tr>
            <th>Authors</th>
            <td>
           {% for author in book.authors().all() %}
               <a href="{{url_for('repair.person_details', id=author.person.id) }}" target="_blank">{{ author.person.name }}</a>
           {% endfor %} 
            </td>
            <td>
                <button class="fake edit-p btn btn-outline-warning">Edit</button>
            </td>
        </tr>
        <tr>
            <th>Translators</th>
            <td>
           {% for translator in book.translators().all() %}
               <a href="{{ url_for('repair.person_details',
                   id=translator.person.id) }}" target="_blank">{{ translator.person.name }}</a>
           {% endfor %} 
            </td>
            <td>
                <button class="fake edit-p btn btn-outline-warning">Edit</button>
            </td>
        </tr>
        <tr>
            <th>Redaction</th>
            <td>
           {% for red in book.redaction().all() %}
               <a href="{{ url_for('repair.person_details', id=red.person.id) }}" target="_blank">{{ red.person.name }}</a>
           {% endfor %} 
            </td>
            <td>
                <button class="fake edit-p btn btn-outline-warning">Edit</button>
            </td>
        </tr>
        <tr>
            <th>Introduction</th>
            <td>
           {% for intro in book.introduction().all() %}
               <a href="{{ url_for('repair.person_details', id=intro.person.id)}}" target="_blank">{{ intro.person.name }}</a>
           {% endfor %} 
            </td>
            <td>
                <button class="fake edit-p btn btn-outline-warning">Edit</button>
            </td>
        </tr>
        <tr>
            <th>Publisher</th>
            <td>{{ form.publisher(class_="form-control publisher", readonly=true) }}</td>
            <td>
                <button class="fake edit btn btn-outline-warning">Edit</button>
            </td>
        </tr>
        <tr>
            <th>Serie</th>
            <td>{{ form.serie(class_="form-control serie", readonly=true) }}</td>
            <td>
            <button class="fake edit btn btn-outline-warning">Edit</button>
            </td>
        </tr>
        <tr>
            <th>Publication place</th>
            <td>{{ form.city(class_="form-control city", readonly=true) }}</td>
            <td>
            <button class="fake edit btn btn-outline-warning">Edit</button>
            </td>
        </tr>
        <tr>
            <th>Publication year</th>
            <td>{{ form.pub_year(class_="form-control") }}</td>
            <td></td>
        </tr>
        <tr>
            <th>Origin language</th>
            <td>{{ form.origin_language(class_="form-control") }}</td>
            <td></td>
        </tr>
        <tr>
            <th>Literary form</th>
            <td>{{ form.literary_form(class_="form-control") }}</td>
            <td></td>
        </tr>
        <tr>
            <th>Genre</th>
            <td>{{ form.genre(class_="form-control") }}</td>
            <td></td>
        </tr>
        <tr>
            <th>Fiction</th>
            <td>{{ form.fiction(class_="form-control") }}</td>
            <td></td>
        </tr>
        <tr>
            <th>Precision</th>
            <td>{{ form.precision(class_="form-control") }}</td>
            <td></td>
        </tr>
        <tr>
            <th>NUKAT themes</th>
            <td>{{ form.nukat(class_="form-control") }}</td>
            <td></td>
        </tr>
        <tr>
            <th>Incorrect</th>
            <td>{{ form.incorrect(class_="form-check-input") }}</td>
            <td></td>
        </tr>
        <tr>
            <th>Approuved</th>
            <td>{{ form.approuved(class_="form-check-input") }}</td>
            <td></td>
        </tr>
    </table>

    {{ form.submit(class_="submit btn btn-primary btn-md") }}

</form>
<p><a href="" target="_blank">See copies</a></p>
    <p><a href="{{ url_for('repair.books_list', name=book.title) }}" target="_blank">Show similars</a></p>
    <p><a href="{{ url_for('repair.books_list') }}">Back to list</a></p>
{% endblock %}   
 
